<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.knime.org/2008/09/XMLConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.knime.org/2008/09/XMLConfig http://www.knime.org/XMLConfig_2008_09.xsd" key="3D Scatter Plot_70040138-d00c-4726-805a-c25fc1081b03.xml">
<entry key="meta category" type="xstring" value="org.knime.js.base.node.viz.generic3.GenericJSViewNodeFactory"/>
<entry key="category" type="xstring" value="Plotly"/>
<entry key="name" type="xstring" value="3D Scatter Plot"/>
<entry key="description" type="xstring" value=""/>
<entry key="version" type="xstring" value="version 1.x"/>
<entry key="id" type="xstring" value="70040138-d00c-4726-805a-c25fc1081b03"/>
<config key="settings">
<entry key="hideInWizard" type="xboolean" value="false"/>
<entry key="generateView" type="xboolean" value="false"/>
<entry key="maxRows" type="xint" value="250000"/>
<entry key="jsCode" type="xstring" value="%%00010//import Plotly library%%00010const Plotly = arguments[0];%%00010%%00010//Access the Knime Data Table provided by the node%%00010const dataTableRows = knimeDataTable.getRows(),%%00010    knimeRowColors = knimeDataTable.getRowColors(),%%00010    columnNames = knimeDataTable.getColumnNames();%%00010%%00010//Create the plotly HTML element %%00010let div = document.createElement('DIV');%%00010div.setAttribute('id', 'knime-3d-scatter');%%00010document.body.append(div);%%00010%%00010//User defined settings%%00010let xColInd = 0,    //Numeric, x-values%%00010    yColInd = 1,    //Numeric, y-values%%00010    zColInd = 2,    //Numeric, z-values%%00010    groupByColInd = 4; //String, categorical%%00010%%00010//Data collection%%00010let xData = [],%%00010    yData = [],%%00010    zData = [],%%00010    dataArray = [];%%00010%%00010//Data preparation%%00010dataTableRows.forEach((row, rowInd) =&gt; {%%00010%%00010    //Plotly data object for each group%%00010    let groupSettings = {%%00010        x: [],%%00010        y: [],%%00010        z: [],%%00010        mode: 'markers',%%00010        type: 'scatter3d',%%00010        name: '',%%00010        marker: {%%00010            size: [],%%00010            color: []%%00010        },%%00010        id: []%%00010    };%%00010%%00010    let group = groupByColInd &gt; -1 ? row.data[groupByColInd] : '';%%00010    let gInd = -1;%%00010%%00010    for (let j = 0; j &lt; dataArray.length; j++) {%%00010        if (dataArray[j].name === group) {%%00010            gInd = j;%%00010            break;%%00010        }%%00010    }%%00010%%00010    if (gInd &lt; 0) {%%00010        groupSettings.name = group;%%00010        gInd = dataArray.push(groupSettings) - 1;%%00010    }%%00010%%00010    dataArray[gInd].x.push(row.data[xColInd]);%%00010    dataArray[gInd].y.push(row.data[yColInd]);%%00010    dataArray[gInd].z.push(row.data[zColInd]);%%00010    dataArray[gInd].id.push(row.rowKey);%%00010%%00010    //color settings%%00010    if (knimeRowColors.length &gt; rowInd) {%%00010        dataArray[gInd].marker.color.push(knimeRowColors[rowInd]);%%00010    }%%00010%%00010    //size settings%%00010    let seed = gInd * 3;%%00010    let size = seed &gt; 5 ? seed + 3 : seed + 5;%%00010    dataArray[gInd].marker.size.push(size);%%00010});%%00010%%00010//Plotly Layout Options%%00010const layout = {%%00010    title: 'Knime 3D Scatter Plot',%%00010    showlegend: true,%%00010    font: {%%00010        size: 12,%%00010        family: 'sans-serif'%%00010    },%%00010    scene: {%%00010        xaxis: {%%00010            title: columnNames[xColInd],%%00010            font: {%%00010                size: 12,%%00010                family: 'sans-serif'%%00010            },%%00010            type: 'linear',%%00010            showgrid: true%%00010        },%%00010        yaxis: {%%00010            title: columnNames[yColInd],%%00010            font: {%%00010                size: 12,%%00010                family: 'sans-serif'%%00010            },%%00010            type: 'linear',%%00010            showgrid: true%%00010        },%%00010        zaxis: {%%00010            title: columnNames[zColInd],%%00010            font: {%%00010                size: 12,%%00010                family: 'sans-serif'%%00010            },%%00010            type: 'linear',%%00010            showgrid: true%%00010        }%%00010    }%%00010};%%00010%%00010//Plotly Config Options%%00010const config = {%%00010    toImageButtonOptions: {%%00010        format: 'svg', // one of png, svg, jpeg, webp%%00010        filename: 'custom_image',%%00010        height: 500,%%00010        width: 700,%%00010        scale: 1 // Multiply title/legend/axis/canvas sizes by this factor%%00010    },%%00010    displaylogo: false,%%00010    responsive: true,%%00010    editable: true,%%00010    scrollZoom: true%%00010};%%00010%%00010//Draw the plot%%00010Plotly.newPlot('knime-3d-scatter', dataArray, layout, config);%%00010"/>
<entry key="jsSVGCode" type="xstring" value=""/>
<entry key="cssCode" type="xstring" value="body {%%00010    font-family: sans-serif;%%00010%%00009width: 100%;%%00010    %%00009height: 100%%%00010}%%00010h1 {%%00010    font-size: 1.5em;%%00010    font-weight: bold;%%00010}%%00010.success {%%00010    color: #006633;%%00010    font-weight: bold;%%00010}%%00010%%00010.failure {%%00010    color: #990000;%%00010    font-weight: bold;%%00010}%%00010#knime-3d-scatter {%%00010%%00009width: 100%;%%00010%%00009height: 100vh;%%00010}%%00010%%00010"/>
<config key="dependencies">
<entry key="array-size" type="xint" value="1"/>
<entry key="0" type="xstring" value="plotly.js-1.47.4"/>
</config>
<entry key="waitTime" type="xint" value="0"/>
<config key="outputVariables">
<entry key="array-size" type="xint" value="0"/>
</config>
<entry key="customCSS" type="xstring" isnull="true" value=""/>
</config>
</config>
