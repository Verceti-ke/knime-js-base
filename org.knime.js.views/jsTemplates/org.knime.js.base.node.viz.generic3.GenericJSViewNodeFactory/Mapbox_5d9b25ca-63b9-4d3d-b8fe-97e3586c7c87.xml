<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.knime.org/2008/09/XMLConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.knime.org/2008/09/XMLConfig http://www.knime.org/XMLConfig_2008_09.xsd" key="Mapbox_5d9b25ca-63b9-4d3d-b8fe-97e3586c7c87.xml">
<entry key="meta category" type="xstring" value="org.knime.js.base.node.viz.generic3.GenericJSViewNodeFactory"/>
<entry key="category" type="xstring" value="Plotly"/>
<entry key="name" type="xstring" value="Mapbox"/>
<entry key="description" type="xstring" value=""/>
<entry key="version" type="xstring" value="version 1.x"/>
<entry key="id" type="xstring" value="5d9b25ca-63b9-4d3d-b8fe-97e3586c7c87"/>
<config key="settings">
<entry key="hideInWizard" type="xboolean" value="false"/>
<entry key="generateView" type="xboolean" value="false"/>
<entry key="maxRows" type="xint" value="1000000"/>
<entry key="jsCode" type="xstring" value="%%00010//import Plotly library%%00010const Plotly = arguments[0];%%00010%%00010//Access the Knime Data Table provided by the node%%00010const dataTableRows = knimeDataTable.getRows();%%00010%%00010//Create the plotly HTML element %%00010let div = document.createElement('DIV');%%00010div.setAttribute('id', 'knime-scatter-map');%%00010document.body.append(div);%%00010%%00010//User defined settings%%00010const cityInd = 0,  //String; city name%%00010    populationInd = 1,  //Numeric; population size%%00010    latitudeInd = 2,    //Numeric; latitude%%00010    longitudeInd = 3;   //Numeric; longitude%%00010%%00010//Data collection%%00010let cityLatitudes = [],%%00010    cityLongitudes = [],%%00010    cityInfo = [],%%00010    cityPopulations = [];%%00010%%00010//Data preparation%%00010dataTableRows.forEach((row, rowInd) =&gt; {%%00010    let cityPop = row.data[populationInd];%%00010    cityInfo[rowInd] = row.data[cityInd] + ' pop: ' + cityPop;%%00010    cityPopulations[rowInd] = Math.sqrt(cityPop / Math.PI) / 50;%%00010    cityLatitudes[rowInd] = row.data[latitudeInd];%%00010    cityLongitudes[rowInd] = row.data[longitudeInd];%%00010})%%00010%%00010//Plotly data object%%00010let mapData = [{%%00010    type: 'scattermapbox',%%00010    locationmode: 'USA-states',%%00010    lat: cityLatitudes,%%00010    lon: cityLongitudes,%%00010    hoverinfo: 'text',%%00010    text: cityInfo,%%00010    marker: {%%00010        color: cityPopulations,%%00010        colorScale: 'Portland',%%00010        reversescale: false,%%00010        opacity: .5,%%00010        size: cityPopulations,%%00010    },%%00010}];%%00010%%00010//Plotly layout object%%00010let mapLayout = {%%00010    title: 'US Populations 2014',%%00010    mapbox: {%%00010        center: {%%00010            lat: 40,%%00010            lon: -90%%00010        },%%00010        domain: {%%00010            x: [0, 1],%%00010            y: [0, 1]%%00010        },%%00010        style: 'dark',%%00010        zoom: 3%%00010    },%%00010    showlegend: false,%%00010};%%00010%%00010//Plotly config object%%00010let mapConfig = {%%00010    mapboxAccessToken: 'pk.eyJ1IjoiYmxhbmV5ODMiLCJhIjoiY2p2cWgwNGI1MjU0MTQ1b2ZyN243bG51eCJ9.TDE5S5xAYPpZK0JBTC8xMw'%%00010}%%00010%%00010//Draw the plot%%00010Plotly.plot('knime-scatter-map', mapData, mapLayout, mapConfig);%%00010"/>
<entry key="jsSVGCode" type="xstring" value=""/>
<entry key="cssCode" type="xstring" value="body {%%00010    font-family: sans-serif;%%00010}%%00010h1 {%%00010    font-size: 1.5em;%%00010    font-weight: bold;%%00010}%%00010.success {%%00010    color: #006633;%%00010    font-weight: bold;%%00010}%%00010%%00010.failure {%%00010    color: #990000;%%00010    font-weight: bold;%%00010}%%00010#knime-scatter-map {%%00010%%00009width: 100%;%%00010%%00009height: 100vh;%%00010}"/>
<config key="dependencies">
<entry key="array-size" type="xint" value="1"/>
<entry key="0" type="xstring" value="plotly.js-1.47.4"/>
</config>
<entry key="waitTime" type="xint" value="0"/>
<config key="outputVariables">
<entry key="array-size" type="xint" value="0"/>
</config>
<entry key="customCSS" type="xstring" isnull="true" value=""/>
</config>
</config>
