<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.knime.org/2008/09/XMLConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.knime.org/2008/09/XMLConfig http://www.knime.org/XMLConfig_2008_09.xsd" key="Scatter Plot on Map_5e70d874-a6f8-4ac7-af0c-5fff4c46c619.xml">
<entry key="meta category" type="xstring" value="org.knime.js.base.node.viz.generic3.GenericJSViewNodeFactory"/>
<entry key="category" type="xstring" value="Plotly"/>
<entry key="name" type="xstring" value="Scatter Plot on Map"/>
<entry key="description" type="xstring" value=""/>
<entry key="version" type="xstring" value="version 1.x"/>
<entry key="id" type="xstring" value="5e70d874-a6f8-4ac7-af0c-5fff4c46c619"/>
<config key="settings">
<entry key="hideInWizard" type="xboolean" value="false"/>
<entry key="generateView" type="xboolean" value="false"/>
<entry key="maxRows" type="xint" value="1000000"/>
<entry key="jsCode" type="xstring" value="%%00010//import Plotly library%%00010const Plotly = arguments[0];%%00010%%00010//Access the Knime Data Table provided by the node%%00010const dataTableRows = knimeDataTable.getRows();%%00010%%00010//Create the plotly HTML element %%00010let div = document.createElement('DIV');%%00010div.setAttribute('id', 'knime-scatter-map');%%00010document.body.append(div);%%00010%%00010//User defined settings%%00010const cityInd = 0,  //String; city name%%00010    populationInd = 1,  //Numeric; population size%%00010    latitudeInd = 2,    //Numeric; latitude%%00010    longitudeInd = 3;   //Numeric; longitude%%00010%%00010//Data collection%%00010let cityLatitudes = [],%%00010    cityLongitudes = [],%%00010    cityInfo = [],%%00010    cityPopulations = [];%%00010%%00010//Data preparation%%00010dataTableRows.forEach((row, rowInd) =&gt; {%%00010    let cityPop = row.data[populationInd];%%00010    cityInfo[rowInd] = row.data[cityInd] + ' pop: ' + cityPop;%%00010    cityPopulations[rowInd] = Math.sqrt(cityPop / Math.PI) / 50;%%00010    cityLatitudes[rowInd] = row.data[latitudeInd];%%00010    cityLongitudes[rowInd] = row.data[longitudeInd];%%00010})%%00010%%00010//Plotly data object%%00010let mapData = [{%%00010    type: 'scattergeo',%%00010    locationmode: 'USA-states',%%00010    lat: cityLatitudes,%%00010    lon: cityLongitudes,%%00010    hoverinfo: 'text',%%00010    text: cityInfo,%%00010    marker: {%%00010        size: cityPopulations,%%00010        line: {%%00010            color: 'black',%%00010            width: 2%%00010        },%%00010    }%%00010}];%%00010%%00010//Plotly layout object%%00010let mapLayout = {%%00010    title: 'US Populations 2014',%%00010    showlegend: false,%%00010    geo: {%%00010        scope: 'usa',%%00010        projection: {%%00010            type: 'albers usa'%%00010        },%%00010        showland: true,%%00010        landcolor: 'rgb(217, 217, 217)',%%00010        subunitwidth: 1,%%00010        countrywidth: 1,%%00010        subunitcolor: 'rgb(255,255,255)',%%00010        countrycolor: 'rgb(255,255,255)'%%00010    },%%00010};%%00010%%00010//Plotly config object%%00010let mapConfig = {%%00010    showLink: false%%00010}%%00010%%00010//Draw the plot%%00010Plotly.plot('knime-scatter-map', mapData, mapLayout, mapConfig);%%00010"/>
<entry key="jsSVGCode" type="xstring" value=""/>
<entry key="cssCode" type="xstring" value="body {%%00010    font-family: sans-serif;%%00010}%%00010h1 {%%00010    font-size: 1.5em;%%00010    font-weight: bold;%%00010}%%00010.success {%%00010    color: #006633;%%00010    font-weight: bold;%%00010}%%00010%%00010.failure {%%00010    color: #990000;%%00010    font-weight: bold;%%00010}%%00010#knime-scatter-map {%%00010%%00009width: 100%;%%00010%%00009height: 100vh;%%00010}"/>
<config key="dependencies">
<entry key="array-size" type="xint" value="1"/>
<entry key="0" type="xstring" value="plotly.js-1.47.4"/>
</config>
<entry key="waitTime" type="xint" value="0"/>
<config key="outputVariables">
<entry key="array-size" type="xint" value="0"/>
</config>
<entry key="customCSS" type="xstring" isnull="true" value=""/>
</config>
</config>
