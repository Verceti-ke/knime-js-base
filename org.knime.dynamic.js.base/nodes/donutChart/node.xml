<?xml version="1.0" encoding="utf-8"?>
<js:knimeNode xmlns:js="http://knime.org/dynamicjsnode/v2.12" 
		xmlns="http://knime.org/dynamicnode/v2.12"
		xmlns:n="http://knime.org/node/v2.12"
 		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 		xsi:schemaLocation="http://knime.org/dynamicjsnode/v2.12 ../../dynamicJSNode_v2.12.xsd" 
 		jsNamespace="pie_chart_namespace" nodeID="pie_chart" categoryPath="/labs/quickform/view"
 		icon="./sample.png" type="Visualizer">
    <name>Pie/Donut Chart</name>
    <shortDescription>A pie/donut chart based on the NVD3 library.</shortDescription>
    <fullDescription>
	    <intro>
    	    Generates a pie chart, or donut chart which is a pie chart 
			that looks like a donut.
    	</intro>
    	<tab name="Options">
	    	<options>
	   	   	    <columnSelectorOption name="Category Column" id="cat" inPortIndex="0" 
	    	    	label="Category Column" filterClasses="org.knime.core.data.NominalValue">
	    			Select the column that contains the category values.
	    		</columnSelectorOption>
	    		<columnSelectorOption name="Select frequency column" id="freq" 
	    			inPortIndex="0" label="Frequency Column" saveInView="true" 
	    			filterClasses="org.knime.core.data.DoubleValue">
	    			Select the column with the frequency for the chart.
	    		</columnSelectorOption>
	    	</options>
    	</tab>
    	<tab name="General Plot Options">
	    	<options>
	    	    <stringOption name="Title" id="title" label="Title" defaultValue="Title of Graph" 
	    	    	optional="true" saveInView="true">
    				The chart title.
    			</stringOption>
		    	<checkBoxOption name="Chart type" id="togglePie" label="Plot donut chart"
					defaultValue="true">
	    			Select whether to plot a pie chart, or a donut chart.
				</checkBoxOption>
	 	    	<doubleOption name="Label Threshold" id="labelThreshold" 
					label="Label Threshold" defaultValue="0.05" minValue="0" maxValue="1">
					Configure the minimum slice size for labels to show up
				</doubleOption>
	 			<!-- Radio button for key, value, percent (for labels) id="labelType" -->
	 			 
	 			<!--  
	 			<StringListOption name="Label Type" possibleValues="category">
	 				Select whether chart should be labeled with the category,
	 				value, or percentage.
	 			</StringListOption>
	 			-->
	 			  
	    	 	<checkBoxOption name="Show labels" id="showLabels" label="Show labels"
					defaultValue="true">
					Show or hide the category labels	
				</checkBoxOption>			 			
				<doubleOption name="Hole size" id="holeSize" 
					label="Donut Hole Size"  defaultValue="0.35" minValue="0" maxValue="1">
					Configure how big you want the donut hole size to be.
				</doubleOption>
				<svgOption name="Image" id="svg" portIndex="0" label="Image" additionalWait="3000" defaultWidth="600" defaultHeight="400" defaultFullscreen="false">
					Settings for image generation.
				</svgOption>
    		</options>
    	</tab>

		<tab name="Control Options">
          <options>
              <checkBoxOption name="Enable view controls" id="enableViewControls"
                   label="Enable view controls" defaultValue="true">
                   Check to enable controls in the chart.
               </checkBoxOption>
               <checkBoxOption name="Enable Title editing" id="enableTitleEdit"
                   label="Enable Title editing" defaultValue="true" enableDependency="enableViewControls" enableValue="true">
                   Check to enable the editing of the title within the view.
               </checkBoxOption>
               <checkBoxOption name="Enable Display Options" id="enableColumnChooser"
                   label="Enable Display Options" defaultValue="true" enableDependency="enableViewControls" enableValue="true">
                   Check to enable the selection of a column.
               </checkBoxOption>
           </options>
        </tab>

    </fullDescription>
    <outputOptions>
    	<dataOutputOption outPortIndex="1" id="selection" inPortIndex="0" additionalColumnName="Pie Chart Selected Categories" 
    			additionalColumnType="BOOLEAN"/>
    </outputOptions>
    <interactiveView name="D3 Bar chart">
    	An NVD3.js implementation of a pie chart.
    </interactiveView>
    <ports>
    	<inPort portType="Data" name="Input data frequency wise" index="0">
    		Data table containing the categories and values to be plotted in the pie chart.
    	</inPort>
    	<outPort portType="Image" name="Pie chart image" index="0">
    		SVG image of the pie chart.
    	</outPort>
    	<outPort portType="Data" name="Pie chart selection" index="1">
    		Columns selected from the pie chart.
    	</outPort>
    </ports>
	<js:resources>
		<js:resource type="js" path="donutchart.js" />
	</js:resources>
	<js:dependencies>
		<js:dependency name="nvd3" path="NVD3_1.7.1" type="local" exports="nv" />
	</js:dependencies>
</js:knimeNode>